<!DOCTYPE html>
<html>
<head>
<script src="http://code.jquery.com/jquery-latest.min.js"></script>
<script type="text/javascript">
base_url = "http://localhost:8080/Mirchi/rest/type";
$(document).ready(function() {
	$("#but").click(function() {
		alert("but");
		var count = $("#bags").val();
		while(count--) {
			$("#div").append("<input type='text' id='bagkg"+count+"'><br />");
		}
	});
	$("#but2").click(function() {
		alert("but2");
// 		array();
		hi();
	});
	function hi() {
// 		var myObj = {};
// 		myObj["nid"] = $("#nid").val();
// 		myObj["type"] = $("#type").val();
// 		myObj["date"] = $("#date").val();
// 		myObj["coolie"] = $("#coolie").val();
// 		myObj["railway"] = $("#railway").val();
// 		myObj["rate"] = $("#rate").val();
// 		myObj["vat"] = $("#vat").val();
// 		myObj["bagkg"] = array();
// 		var json = JSON.stringify(myObj);
		var hi = {
				"nid" : $("#nid").val(),
				"type": $("#type").val(),
				"date" :$("#date").val(),
				"coolie" :$("#coolie").val(),
				"railway" :$("#railway").val(),
				"rate" :$("#rate").val(),
				"vat" :$("#vat").val(),
				"bagkg" :array()
		};
		var json = JSON.stringify(hi);
		
		
		

		alert(json);
	}
	function array() {
		var arr = "[";
		var count = $("#bags").val();
		while(count--) {
// 			alert($("#bagkg"+count).val());
			arr = arr + $("#bagkg"+count).val();
			if(count >0 ) {
				arr = arr + ",";
			}
		}
		arr = arr + "]";
		alert(arr);
		return arr;
	}
});
</script>
</head>
<body>
	Please Enter the NID : <input type="text" id="nid" ><br />
	Please Enter the Type : <input type="text" id="type" ><br />
	Please Enter the Rate : <input type="text" id="rate" ><br />
	Please Enter the Date : <input type="text" id="date" ><br />
	Please Enter the Coolie : <input type="text" id="coolie" ><br />
	Please Enter the Railway : <input type="text" id="railway" ><br />
	Please Enter the Vat : <input type="text" id="vat" ><br />
	Please Enter the Bags : <input type="text" id="bags" >
	<button id="but">click</button>
	<div id="div">
		
	</div>
	<button id="but2">click</button>
</body>
</html>